# RabbitMQ介绍

## 一、应用场景

### 1，异步处理

场景说明：用户注册后，需要发注册邮件和注册短信,传统的做法有两种1.串行的方式;2.并行的方式
(1)串行方式:将注册信息写入数据库后,发送注册邮件,再发送注册短信,以上三个任务全部完成后才返回给客户端。 这有一个问题是,邮件,短信并不是必须的,它只是一个通知,而这种做法让客户端等待没有必要等待的东西.

用户————注册信息写入数据库————发送注册邮件————发送注册短信

(2)并行方式:将注册信息写入数据库后,发送邮件的同时,发送短信,以上三个任务完成后,返回给客户端,并行的方式能提高处理的时间。

用户————注册信息写入数据库————发送注册邮件

​                                                       ————发送注册短信



(3)消息队列
引入消息队列后，把发送邮件，短信不是必须的业务逻辑异步处理

用户————注册信息写入数据库————写入消息队列  ————发送注册邮件

​                                                                                            ————发送注册短信



## 2，应用解耦

场景：双11是购物狂节,用户下单后,订单系统需要通知库存系统,传统的做法就是订单系统调用库存系统的接口.种做法有一个缺点:

当库存系统出现故障时,订单就会失败

订单系统和库存系统高耦合.



在引入消息队列之后

订单系统:用户下单后,订单系统完成持久化处理,将消息写入消息队列,返回用户订单下单成功。

库存系统:订阅下单的消息,获取下单消息,进行库操作。
就算库存系统出现故障,消息队列也能保证消息的可靠投递,不会导致消息丢失



